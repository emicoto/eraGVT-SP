;--------------------------------------------------
;状況の表示
@SHOW_STATUS_SENMETU
#DIM CCOUNT

LOCAL = 0
LOCAL:1 = 1
;触手の殲滅状況
PRINTL 

LOCAL = FLAG:11
IF FLAG:10 == 0
	PRINTFORML 現在活動中の%STR:2502%
	SAVESTR:13 = BOSS
	DRAWLINE
	REPEAT FLAG:3
		CALL TENTACLE_SURVIVE_CHECK, LOCAL:1
		IF RESULT > 0
			FLAG:11 = RESULT
			PRINT [
			CALL TENTACLE_ACCESS, "NAME"
			PRINT ]
		ENDIF
		LOCAL:1 *=2
	REND
ELSEIF FLAG:10 == 1
	PRINTFORML 現在活動中の%STR:2503%
	DRAWLINE
	REPEAT FLAG:4
		CALL TENTACLE_SURVIVE_CHECK, LOCAL:1
		IF RESULT > 0
			FLAG:11 = RESULT
			PRINT [
			CALL TENTACLE_ACCESS, "NAME"
			PRINT ]
		ENDIF
		LOCAL:1 *=2
	REND
ENDIF
FLAG:11 = LOCAL
PRINTL 
DRAWLINE
PRINTW 

;入院/育児中のキャラの確認
LOCAL = 0
FOR CCOUNT, 0, CHARANUM
	SIF CCOUNT == MASTER
		CONTINUE
	SIF CFLAG:CCOUNT:0 == 10 || CFLAG:CCOUNT:0 == 11
		LOCAL ++
NEXT
IF LOCAL
	PRINTFORML 入院/育児中のキャラ
	DRAWLINE
	FOR CCOUNT, 0, CHARANUM
		SIF CCOUNT == MASTER
			CONTINUE

		IF CFLAG:CCOUNT:0 == 10
			PRINTFORM  %CALLNAME:CCOUNT%：特別病棟に入院　
		ELSEIF CFLAG:CCOUNT:0 == 11
			PRINTFORM  %CALLNAME:CCOUNT%：育児中　
		ENDIF
		;妊娠状態
		SIF (CHECK_PREGNANT_F(CCOUNT) > 0 && CFLAG:CCOUNT:0 == 10) || (CHECK_PREGNANT_F(CCOUNT) > 0 && CFLAG:CCOUNT:0 == 11)
			PRINT [妊娠中]
		SIF CFLAG:CCOUNT:0 == 10 || CFLAG:CCOUNT:0 == 11
			PRINTL 
	NEXT
	DRAWLINE
	PRINTW 
ENDIF

;幽閉中のキャラの確認
PRINTFORML 幽閉中のキャラ
DRAWLINE
LOCAL = 0
FOR CCOUNT, 0, CHARANUM
	SIF CCOUNT == MASTER
		CONTINUE
	
	IF CFLAG:CCOUNT:0 == 1
		;幽閉日数の計算
		LOCAL:1 = 0
		SIF CFLAG:CCOUNT:31 > 0
			LOCAL:1 = CFLAG:CCOUNT:31 / 2
		
		PRINTFORM  %CALLNAME:CCOUNT%：
		IF (CFLAG:CCOUNT:20 == 2)
			FOR LOCAL:2, 0, CHARANUM
				RESULT = 0
				SIF CFLAG:CCOUNT:21 == CFLAG:(LOCAL:2):240
					RESULT = LOCAL:2
				SIF RESULT
					BREAK
			NEXT
			PRINTFORM %PRINT_TRANSCALLNAME(RESULT)%
		ELSE
			CALL TENTACLE_ACCESS_PRISON, CCOUNT, "NAME"
		ENDIF
		PRINTFORM によって幽閉中 {CFLAG:CCOUNT:31 / 2}日目　
		;妊娠状態
		SIF CHECK_PREGNANT_F(CCOUNT) > 0
			PRINT [妊娠中]　
		SIF CFLAG:CCOUNT:220 && CONFIG_CHECK_OTHER_F(0) == 0
			PRINTFORM 育児中の子触手：{CFLAG:CCOUNT:220}
		PRINTL 
		LOCAL += 1
	ENDIF
NEXT
SIF LOCAL == 0
	PRINTL なし
DRAWLINE
PRINTW 

;誘拐監禁中のキャラの確認
PRINTFORML 監禁中のキャラ
DRAWLINE
LOCAL = 0
FOR CCOUNT, 0, CHARANUM
	SIF CCOUNT == MASTER
		CONTINUE
	
	IF CFLAG:CCOUNT:0 == 4
		;監禁日数の計算
		LOCAL:1 = 0
		PRINTFORM  %CALLNAME:CCOUNT%：
		PRINTFORM クズ市民によって拉致監禁中 {CFLAG:CCOUNT:70 / 2}日目　
		;妊娠状態
		SIF CHECK_PREGNANT_F(CCOUNT) > 0
			PRINT [妊娠中]　
		SIF CFLAG:CCOUNT:219 && CONFIG_CHECK_OTHER_F(0) == 0
			PRINTFORM 育児中の子供：{CFLAG:CCOUNT:219}
		PRINTL 
		LOCAL += 1
	ENDIF
NEXT
SIF LOCAL == 0
	PRINTL なし
DRAWLINE
PRINTW 

;洗脳/悪堕ち中のキャラの確認
PRINTFORML 洗脳/悪堕ち中のキャラ
DRAWLINE
LOCAL = 0
FOR CCOUNT, 0, CHARANUM
	SIF CCOUNT == MASTER
		CONTINUE
	
	IF CFLAG:CCOUNT:0 == 2
		PRINTFORM  %CALLNAME:CCOUNT%：洗脳（
		IF CFLAG:CCOUNT:20 < 2
			CALL TENTACLE_ACCESS_PRISON, CCOUNT, "NAME"
		ELSEIF CFLAG:CCOUNT:20 == 2
			PRINTFORM %PRINT_TRANSCALLNAME(CFLAG:CCOUNT:21)%
		ENDIF
		PRINT ）　
	ELSEIF CFLAG:CCOUNT:0 == 3
		PRINTFORM  %CALLNAME:CCOUNT%：悪堕ち　
	ENDIF
	;妊娠状態
	SIF (CHECK_PREGNANT_F(CCOUNT) > 0 && CFLAG:CCOUNT:0 == 2) || (CHECK_PREGNANT_F(CCOUNT) > 0 && CFLAG:CCOUNT:0 == 3)
		PRINT [妊娠中]
	IF CFLAG:CCOUNT:0 == 2 || CFLAG:CCOUNT:0 == 3
		PRINTL 
		LOCAL += 1
	ENDIF
NEXT
SIF LOCAL == 0
	PRINTL なし
DRAWLINE
PRINTW 

;取り込まれたキャラ
IF FLAG:0 != 2
	PRINTFORML 取り込まれたキャラ
	DRAWLINE
	LOCAL = 0
	FOR CCOUNT, 0, CHARANUM
		SIF CCOUNT == MASTER
			CONTINUE

		SIF CFLAG:CCOUNT:0 == 9
			PRINTFORM  %CALLNAME:CCOUNT%：
		;苗床化状態
		IF TALENT:CCOUNT:苗床化 && CFLAG:CCOUNT:0 == 9
			PRINT 苗床化
		ELSEIF CFLAG:CCOUNT:0 == 9
			PRINT 取り込まれ
		ENDIF
		IF CFLAG:CCOUNT:0 == 9
			PRINTL 
			LOCAL += 1
		ENDIF
	NEXT
	SIF LOCAL == 0
		PRINTL なし
	DRAWLINE
	PRINTW 
ENDIF

;子触手の数
LOCAL = FLAG:44
FOR CCOUNT,0,CHARANUM
	LOCAL -= CFLAG:CCOUNT:220
NEXT
IF LOCAL
	PRINTFORML 活動中の子触手の総数
	DRAWLINE
	PRINTFORML  {LOCAL}匹
	DRAWLINE
	PRINTW 
ENDIF