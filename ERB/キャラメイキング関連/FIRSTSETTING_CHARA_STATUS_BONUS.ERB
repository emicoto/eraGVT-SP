
;-------------------------------------------------------------------------------------------------------------------------------------------------------------------
;パラメータの振り分け
@FIRSTSETTING_STATUS_BONUS, ARG
#DIM LINE
;ループカウント
#DIM LCOUNT
;項目
#DIM OBJ_VAR
;ボーナス値変化量
#DIM CNG_VAR
;ボーナス1ポイントあたりの上昇量
#DIM MAG_VAR
;振り分け済みボーナス値
#DIM BNS_VAR, 7

;CFLAGから各ボーナス値を保持
OBJ_VAR = 50
FOR LCOUNT, 0, 7
	BNS_VAR:LCOUNT = CFLAG:ARG:(OBJ_VAR+LCOUNT)
NEXT
LINE = LINECOUNT
$INPUT_LOOP
PRINTL 
PRINTFORML {ARG:0}人目のキャラ 『%CALLNAME:ARG%』 の基礎値にボーナスを振ってください
PRINTL ･････････････････････････････････････････････････････
IF FLAG:999 == 1
	SETCOLOR 96,96,96
	LOCAL = 250
	;得意・苦手による補正
	SIF TALENT:近距離得意
		TIMES LOCAL:0, 1.20
	SIF TALENT:近距離苦手
		TIMES LOCAL:0, 0.60
	SIF TALENT:中距離得意
		TIMES LOCAL:0, 0.85
	SIF TALENT:中距離苦手
		TIMES LOCAL:0, 1.15
	SIF TALENT:遠距離得意
		TIMES LOCAL:0, 0.85
	SIF TALENT:遠距離苦手
		TIMES LOCAL:0, 1.10
	SIF TALENT:近距離得意 && TALENT:中距離得意 && TALENT:遠距離得意
		TIMES LOCAL:0, 1.16
	PRINTFORM 近距離性能：{LOCAL}　

	LOCAL = 225
	;得意・苦手による補正
	SIF TALENT:近距離得意
		TIMES LOCAL:0, 0.90
	SIF TALENT:近距離苦手
		TIMES LOCAL:0, 1.20
	SIF TALENT:中距離得意
		TIMES LOCAL:0, 1.25
	SIF TALENT:中距離苦手
		TIMES LOCAL:0, 0.70
	SIF TALENT:遠距離得意
		TIMES LOCAL:0, 0.90
	SIF TALENT:遠距離苦手
		TIMES LOCAL:0, 1.10
	SIF TALENT:近距離得意 && TALENT:中距離得意 && TALENT:遠距離得意
		TIMES LOCAL:0, 1.085
	PRINTFORM 中距離性能：{LOCAL}　

	LOCAL = 200
	;得意・苦手による補正
	SIF TALENT:近距離得意
		TIMES LOCAL:0, 0.95
	SIF TALENT:近距離苦手
		TIMES LOCAL:0, 1.20
	SIF TALENT:中距離得意
		TIMES LOCAL:0, 0.95
	SIF TALENT:中距離苦手
		TIMES LOCAL:0, 1.10
	SIF TALENT:遠距離得意
		TIMES LOCAL:0, 1.30
	SIF TALENT:遠距離苦手
		TIMES LOCAL:0, 0.80
	SIF TALENT:近距離得意 && TALENT:中距離得意 && TALENT:遠距離得意
		TIMES LOCAL:0, 1.0275
	PRINTFORM 遠距離性能：{LOCAL}

	RESETCOLOR
	PRINTL 
ENDIF
PRINTFORML ボーナス値　のこり『 +{(JUEL:ARG:修練P / 10)} pts』
PRINTL 

OBJ_VAR = 0
MAG_VAR = 10
FOR LCOUNT, 0, 7
	PRINTFORM %BASENAME:OBJ_VAR, 6, LEFT%：{BASE:ARG:OBJ_VAR + FEAT_BONUS_F(ARG,LCOUNT), 4} → {BASE:ARG:OBJ_VAR + FEAT_BONUS_F(ARG,LCOUNT) + BNS_VAR:LCOUNT * MAG_VAR, 4}（\@ BNS_VAR:LCOUNT < 0 ? - # + \@{ABS(BNS_VAR:LCOUNT), 2}）
	PRINTPLAIN 　 

	SETCOLOR 240, 240, 255
	SIF BNS_VAR:LCOUNT <= -20
		SETCOLOR 128, 128, 128
	PRINTFORM [{LCOUNT * 10, 3}]− 5
	PRINTPLAIN  　 

	SETCOLOR 240, 240, 255
	SIF BNS_VAR:LCOUNT <= -20
		SETCOLOR 128, 128, 128
	PRINTFORM [{LCOUNT * 10 + 1, 3}]− 1
	PRINTPLAIN  　 

	SETCOLOR 240, 240, 255
	SIF BNS_VAR:LCOUNT >= 20
		SETCOLOR 128, 128, 128
	SIF JUEL:ARG:修練P <= 0
		SETCOLOR 128, 128, 128
	PRINTFORM [{LCOUNT * 10 + 2, 3}]＋ 1
	RESETCOLOR
	PRINTPLAIN  　 

	SETCOLOR 240, 240, 255
	SIF BNS_VAR:LCOUNT >= 20
		SETCOLOR 128, 128, 128
	SIF JUEL:ARG:修練P <= 0
		SETCOLOR 128, 128, 128
	PRINTFORM [{LCOUNT * 10 + 3, 3}]＋ 5
	RESETCOLOR
	PRINTL 
	OBJ_VAR ++
	IF LCOUNT == 1
		MAG_VAR = 1
	ENDIF
	IF LCOUNT == 2
		OBJ_VAR += 7
		PRINTL 
	ENDIF
NEXT
PRINTL 
PRINT 近距離：
IF TALENT:ARG:近距離得意
	PRINT  得意　　　 （+15）
ELSEIF TALENT:ARG:近距離苦手
	PRINT  苦手　　　 （- 5）
ELSE
	PRINT  ――　　　 （+ 0）
ENDIF
PRINTPLAIN  　

SETCOLOR 240, 240, 255
SIF TALENT:ARG:近距離苦手
	SETCOLOR 255, 255, 0
PRINT [ 70] 苦手
RESETCOLOR
PRINTPLAIN  　　　　

SETCOLOR 240, 240, 255
SIF TALENT:ARG:近距離苦手 && JUEL:ARG:修練P < 50
	SETCOLOR 128, 128, 128
SIF TALENT:ARG:近距離得意 == 0 && TALENT:ARG:近距離苦手 == 0
	SETCOLOR 255, 255, 0
PRINT [ 71] 普通
RESETCOLOR
PRINTPLAIN  　　　　

SETCOLOR 240, 240, 255
SIF TALENT:ARG:近距離苦手 && JUEL:ARG:修練P < 200
	SETCOLOR 128, 128, 128
SIF TALENT:ARG:近距離苦手 == 0 && JUEL:ARG:修練P < 150
	SETCOLOR 128, 128, 128
SIF TALENT:ARG:近距離得意
	SETCOLOR 255, 255, 0
PRINT [ 72] 得意
RESETCOLOR

PRINTL 
PRINT 中距離：
IF TALENT:ARG:中距離得意
	PRINT  得意　　　 （+15）
ELSEIF TALENT:ARG:中距離苦手
	PRINT  苦手　　　 （- 5）
ELSE
	PRINT  ――　　　 （+ 0）
ENDIF
PRINTPLAIN  　

SETCOLOR 240, 240, 255
SIF TALENT:ARG:中距離苦手
	SETCOLOR 255, 255, 0
PRINT [ 80] 苦手
RESETCOLOR
PRINTPLAIN  　　　　

SETCOLOR 240, 240, 255
SIF TALENT:ARG:中距離苦手 && JUEL:ARG:修練P < 50
	SETCOLOR 128, 128, 128
SIF TALENT:ARG:中距離得意 == 0 && TALENT:ARG:中距離苦手 == 0
	SETCOLOR 255, 255, 0
PRINT [ 81] 普通
RESETCOLOR
PRINTPLAIN  　　　　

SETCOLOR 240, 240, 255
SIF TALENT:ARG:中距離苦手 && JUEL:ARG:修練P < 200
	SETCOLOR 128, 128, 128
SIF TALENT:ARG:中距離苦手 == 0 && JUEL:ARG:修練P < 150
	SETCOLOR 128, 128, 128
SIF TALENT:ARG:中距離得意
	SETCOLOR 255, 255, 0
PRINT [ 82] 得意
RESETCOLOR
PRINTL 

PRINT 遠距離：
IF TALENT:ARG:遠距離得意
	PRINT  得意　　　 （+15）
ELSEIF TALENT:ARG:遠距離苦手
	PRINT  苦手　　　 （- 5）
ELSE
	PRINT  ――　　　 （+ 0）
ENDIF
PRINTPLAIN  　

SETCOLOR 240, 240, 255
SIF TALENT:ARG:遠距離苦手
	SETCOLOR 255, 255, 0
PRINT [ 90] 苦手
RESETCOLOR
PRINTPLAIN  　　　　

SETCOLOR 240, 240, 255
SIF TALENT:ARG:遠距離苦手 && JUEL:ARG:修練P < 50
	SETCOLOR 128, 128, 128
SIF TALENT:ARG:遠距離得意 == 0 && TALENT:ARG:遠距離苦手 == 0
	SETCOLOR 255, 255, 0
PRINT [ 91] 普通
RESETCOLOR
PRINTPLAIN  　　　　

SETCOLOR 240, 240, 255
SIF TALENT:ARG:遠距離苦手 && JUEL:ARG:修練P < 200
	SETCOLOR 128, 128, 128
SIF TALENT:ARG:遠距離苦手 == 0 && JUEL:ARG:修練P < 150
	SETCOLOR 128, 128, 128
SIF TALENT:ARG:遠距離得意
	SETCOLOR 255, 255, 0
PRINT [ 92] 得意
RESETCOLOR
PRINTL 

PRINT 空中　：
IF TALENT:ARG:空中得意
	PRINT  得意　　　 （+15）
ELSEIF TALENT:ARG:空中苦手
	PRINT  苦手　　　 （- 5）
ELSE
	PRINT  ――　　　 （+ 0）
ENDIF
PRINTPLAIN  　

SETCOLOR 240, 240, 255
SIF TALENT:ARG:空中苦手
	SETCOLOR 255, 255, 0
PRINT [100] 苦手
RESETCOLOR
PRINTPLAIN  　　　　

SETCOLOR 240, 240, 255
SIF TALENT:ARG:空中苦手 && JUEL:ARG:修練P < 50
	SETCOLOR 128, 128, 128
SIF TALENT:ARG:空中得意 == 0 && TALENT:ARG:空中苦手 == 0
	SETCOLOR 255, 255, 0
PRINT [101] 普通
RESETCOLOR
PRINTPLAIN  　　　　

SETCOLOR 240, 240, 255
SIF TALENT:ARG:空中苦手 && JUEL:ARG:修練P < 200
	SETCOLOR 128, 128, 128
SIF TALENT:ARG:空中苦手 == 0 && JUEL:ARG:修練P < 150
	SETCOLOR 128, 128, 128
SIF TALENT:ARG:空中得意
	SETCOLOR 255, 255, 0
PRINT [102] 得意
RESETCOLOR
PRINTL 
PRINTL 

PRINT 回復　：
IF TALENT:ARG:回復早い
	PRINT  早い　　　 （+15）
ELSEIF TALENT:ARG:回復遅い
	PRINT  遅い　　　 （- 5）
ELSE
	PRINT  ――　　　 （+ 0）
ENDIF
PRINTPLAIN  　

SETCOLOR 240, 240, 255
SIF TALENT:ARG:回復遅い
	SETCOLOR 255, 255, 0
PRINT [110] 遅い
RESETCOLOR
PRINTPLAIN  　　　　

SETCOLOR 240, 240, 255
SIF TALENT:ARG:回復遅い && JUEL:ARG:修練P < 50
	SETCOLOR 128, 128, 128
SIF TALENT:ARG:回復早い == 0 && TALENT:ARG:回復遅い == 0
	SETCOLOR 255, 255, 0
PRINT [111] 普通
RESETCOLOR
PRINTPLAIN  　　　　

SETCOLOR 240, 240, 255
SIF TALENT:ARG:回復遅い && JUEL:ARG:修練P < 200
	SETCOLOR 128, 128, 128
SIF TALENT:ARG:回復遅い == 0 && JUEL:ARG:修練P < 150
	SETCOLOR 128, 128, 128
SIF TALENT:ARG:回復早い
	SETCOLOR 255, 255, 0
PRINT [112] 早い
RESETCOLOR
PRINTL 
PRINTL 

PRINT 結界　： 
PRINTFORM {TALENT:ARG:Ｃ結界 + TALENT:ARG:Ｖ結界 + TALENT:ARG:Ａ結界 + TALENT:ARG:Ｂ結界 + TALENT:ARG:避妊結界} / {感覚数 - 1 - (CHARATALENT_F(ARG,0,"オトコ") > 0 || CHARATALENT_F(ARG,1,"オトコ") > 0)}　　　 (+{(TALENT:ARG:Ｃ結界 + TALENT:ARG:Ｖ結界 + TALENT:ARG:Ａ結界 + TALENT:ARG:Ｂ結界 + TALENT:ARG:避妊結界) * 5, 2})
PRINTPLAIN 　　
SETCOLOR 240, 240, 255
SIF (TALENT:ARG:Ｃ結界 + TALENT:ARG:Ｖ結界 + TALENT:ARG:Ａ結界 + TALENT:ARG:Ｂ結界 + TALENT:ARG:避妊結界) > 2 || JUEL:ARG:修練P < 50
	SETCOLOR 128, 128, 128
SIF TALENT:ARG:Ｃ結界
	SETCOLOR 255, 255, 0
PRINT [300]Ｃ 
RESETCOLOR
PRINTPLAIN 　　
SETCOLOR 240, 240, 255
SIF (TALENT:ARG:Ｃ結界 + TALENT:ARG:Ｖ結界 + TALENT:ARG:Ａ結界 + TALENT:ARG:Ｂ結界 + TALENT:ARG:避妊結界) > 2 || JUEL:ARG:修練P < 50
	SETCOLOR 128, 128, 128
SIF TALENT:ARG:避妊結界 > 0
	SETCOLOR 128, 128, 128
SIF TALENT:ARG:Ｖ結界
	SETCOLOR 255, 255, 0
PRINT [301]Ｖ
RESETCOLOR
PRINTPLAIN 　　 
SETCOLOR 240, 240, 255
SIF (TALENT:ARG:Ｃ結界 + TALENT:ARG:Ｖ結界 + TALENT:ARG:Ａ結界 + TALENT:ARG:Ｂ結界 + TALENT:ARG:避妊結界) > 2 || JUEL:ARG:修練P < 50
	SETCOLOR 128, 128, 128
SIF TALENT:ARG:Ａ結界
	SETCOLOR 255, 255, 0
PRINT [302]Ａ
RESETCOLOR
PRINTPLAIN 　　 
SETCOLOR 240, 240, 255
SIF (TALENT:ARG:Ｃ結界 + TALENT:ARG:Ｖ結界 + TALENT:ARG:Ａ結界 + TALENT:ARG:Ｂ結界 + TALENT:ARG:避妊結界) > 2 || JUEL:ARG:修練P < 50
	SETCOLOR 128, 128, 128
SIF TALENT:ARG:Ｂ結界
	SETCOLOR 255, 255, 0
PRINT [303]Ｂ
RESETCOLOR
PRINTPLAIN 　　
SETCOLOR 240, 240, 255
SIF (TALENT:ARG:Ｃ結界 + TALENT:ARG:Ｖ結界 + TALENT:ARG:Ａ結界 + TALENT:ARG:Ｂ結界 + TALENT:ARG:避妊結界) > 2 || JUEL:ARG:修練P < 50
	SETCOLOR 128, 128, 128
SIF TALENT:ARG:Ｖ結界 > 0
	SETCOLOR 128, 128, 128
SIF TALENT:ARG:避妊結界
	SETCOLOR 255, 255, 0
PRINT [304]避妊結界
RESETCOLOR
PRINTPLAIN 　　
PRINTL 
PRINTL ･････････････････････････････････････････････････････
PRINTL コネクション
;噂好きの友人
PRINTPLAIN 　　　　
IF TALENT:ARG:噂好きの友人 > 0
	PRINT 噂好きの友人（+ 5）
ELSE
	PRINT 噂好きの友人（+ 0）
ENDIF
PRINTPLAIN  　
SETCOLOR 240, 240, 255
SIF TALENT:ARG:噂好きの友人 == 0
	SETCOLOR 255, 255, 0
PRINT [120] なし
RESETCOLOR
PRINTPLAIN  　　　　
SETCOLOR 240, 240, 255
SIF TALENT:ARG:噂好きの友人 == 0 && JUEL:ARG:修練P < 50
	SETCOLOR 128, 128, 128
SIF TALENT:ARG:噂好きの友人
	SETCOLOR 255, 255, 0
PRINT [121] ＋１
RESETCOLOR
PRINTL 
;警察関係者
PRINTPLAIN 　　　　
IF TALENT:ARG:警察関係者 == 2
	PRINT 警察上層部　（+20）
ELSEIF TALENT:ARG:警察関係者 == 1
	PRINT 警察関係者　（+10）
ELSE
	PRINT 警察関係者　（+ 0）
ENDIF
PRINTPLAIN  　
SETCOLOR 240, 240, 255
SIF TALENT:ARG:警察関係者 == 0
	SETCOLOR 255, 255, 0
PRINT [130] なし
RESETCOLOR
PRINTPLAIN  　　　　
SETCOLOR 240, 240, 255
SIF TALENT:ARG:警察関係者 == 0 && JUEL:ARG:修練P < 100
	SETCOLOR 128, 128, 128
SIF TALENT:ARG:警察関係者 == 1
	SETCOLOR 255, 255, 0
PRINT [131] ＋１
RESETCOLOR
PRINTPLAIN  　　　　
SETCOLOR 240, 240, 255
SIF TALENT:ARG:警察関係者 == 0 && JUEL:ARG:修練P < 200
	SETCOLOR 128, 128, 128
SIF TALENT:ARG:警察関係者 == 1 && JUEL:ARG:修練P < 100
	SETCOLOR 128, 128, 128
SIF TALENT:ARG:警察関係者 == 2
	SETCOLOR 255, 255, 0
PRINT [132] ＋２
RESETCOLOR
PRINTL 
;情報屋
PRINTPLAIN 　　　　
IF TALENT:ARG:情報屋 > 0
	PRINT 情報屋　　　（+15）
ELSE
	PRINT 情報屋　　　（+ 0）
ENDIF
PRINTPLAIN  　
SETCOLOR 240, 240, 255
SIF TALENT:ARG:情報屋 == 0
	SETCOLOR 255, 255, 0
PRINT [140] なし
RESETCOLOR
PRINTPLAIN  　　　　
SETCOLOR 240, 240, 255
SIF TALENT:ARG:情報屋 == 0 && JUEL:ARG:修練P < 150
	SETCOLOR 128, 128, 128
SIF TALENT:ARG:情報屋
	SETCOLOR 255, 255, 0
PRINT [141] ＋１
RESETCOLOR
PRINTL 
;裕福な実家
PRINTPLAIN 　　　　
IF TALENT:ARG:裕福な実家 > 0
	PRINT 裕福な実家　（+10）
ELSE
	PRINT 裕福な実家　（+ 0）
ENDIF
PRINTPLAIN  　
SETCOLOR 240, 240, 255
SIF TALENT:ARG:裕福な実家 == 0
	SETCOLOR 255, 255, 0
PRINT [150] なし
RESETCOLOR
PRINTPLAIN  　　　　
SETCOLOR 240, 240, 255
SIF TALENT:ARG:裕福な実家 == 0 && JUEL:ARG:修練P < 100
	SETCOLOR 128, 128, 128
SIF TALENT:ARG:裕福な実家
	SETCOLOR 255, 255, 0
PRINT [151] ＋１
RESETCOLOR
PRINTL 


PRINTL ･････････････････････････････････････････････････････
PRINT [200] 決定　　　　　　　
PRINTL [201] 全て振り直す
PRINTL [999] ランダムに設定
INPUT

OBJ_VAR = RESULT / 10
CNG_VAR = RESULT % 10

IF RESULT != 200
	CLEARLINE LINECOUNT - LINE
ENDIF
IF RESULT == 200
	PRINTL 
	PRINTL 
	;各ボーナス値をCFLAGに保存、およびボーナス値を0に
	OBJ_VAR = 50
	FOR LCOUNT, 0, 7
		CFLAG:ARG:(OBJ_VAR+LCOUNT) = BNS_VAR:LCOUNT
		BNS_VAR:LCOUNT = 0
	NEXT
	RETURN 1
ELSEIF RESULT == 201
	FOR LCOUNT, 0, 7
		JUEL:ARG:修練P += BNS_VAR:LCOUNT * 10
		BNS_VAR:LCOUNT = 0
	NEXT
	IF TALENT:ARG:近距離得意
		TALENT:ARG:近距離得意 = 0
		JUEL:ARG:修練P += 150
	ENDIF
	IF TALENT:ARG:近距離苦手
		TALENT:ARG:近距離苦手 = 0
		JUEL:ARG:修練P -= 50
	ENDIF
	IF TALENT:ARG:中距離得意
		TALENT:ARG:中距離得意 = 0
		JUEL:ARG:修練P += 150
	ENDIF
	IF TALENT:ARG:中距離苦手
		TALENT:ARG:中距離苦手 = 0
		JUEL:ARG:修練P -= 50
	ENDIF
	IF TALENT:ARG:遠距離得意
		TALENT:ARG:遠距離得意 = 0
		JUEL:ARG:修練P += 150
	ENDIF
	IF TALENT:ARG:遠距離苦手
		TALENT:ARG:遠距離苦手 = 0
		JUEL:ARG:修練P -= 50
	ENDIF
	IF TALENT:ARG:空中得意
		TALENT:ARG:空中得意 = 0
		JUEL:ARG:修練P += 150
	ENDIF
	IF TALENT:ARG:空中苦手
		TALENT:ARG:空中苦手 = 0
		JUEL:ARG:修練P -= 50
	ENDIF
	IF TALENT:ARG:回復早い
		TALENT:ARG:回復早い = 0
		JUEL:ARG:修練P += 150
	ENDIF
	IF TALENT:ARG:回復遅い
		TALENT:ARG:回復遅い = 0
		JUEL:ARG:修練P -= 50
	ENDIF

	IF TALENT:ARG:Ｃ結界
		TALENT:ARG:Ｃ結界 = 0
		JUEL:ARG:修練P += 50
	ENDIF
	IF TALENT:ARG:Ｖ結界
		TALENT:ARG:Ｖ結界 = 0
		JUEL:ARG:修練P += 50
	ENDIF
	IF TALENT:ARG:Ｂ結界
		TALENT:ARG:Ｂ結界 = 0
		JUEL:ARG:修練P += 50
	ENDIF
	IF TALENT:ARG:Ａ結界
		TALENT:ARG:Ａ結界 = 0
		JUEL:ARG:修練P += 50
	ENDIF

	IF TALENT:ARG:噂好きの友人
		TALENT:ARG:噂好きの友人 = 0
		JUEL:ARG:修練P += 50
	ENDIF
	IF TALENT:ARG:警察関係者 == 2
		TALENT:ARG:警察関係者 = 0
		JUEL:ARG:修練P += 200
	ENDIF
	IF TALENT:ARG:警察関係者 == 1
		TALENT:ARG:警察関係者 = 0
		JUEL:ARG:修練P += 100
	ENDIF
	IF TALENT:ARG:情報屋
		TALENT:ARG:情報屋 = 0
		JUEL:ARG:修練P += 150
	ENDIF
	IF TALENT:ARG:裕福な実家
		TALENT:ARG:裕福な実家 = 0
		JUEL:ARG:修練P += 100
	ENDIF
ELSEIF RESULT >= 300 && RESULT < 304
	IF RESULT == 301 && TALENT:ARG:避妊結界 > 0
	ELSEIF TALENT:ARG:(RESULT % 100 + 190)
		TALENT:ARG:(RESULT % 100 + 190) = 0
		JUEL:ARG:修練P += 50
	ELSEIF JUEL:ARG:修練P >= 50 && (TALENT:ARG:Ｃ結界 + TALENT:ARG:Ｖ結界 + TALENT:ARG:Ａ結界 + TALENT:ARG:Ｂ結界 + TALENT:ARG:避妊結界) < (感覚数 - 1 - (CHARATALENT_F(ARG,0,"オトコ") > 0 || CHARATALENT_F(ARG,1,"オトコ") > 0))
		TALENT:ARG:(RESULT % 100 + 190) = 1
		JUEL:ARG:修練P -= 50
	ENDIF
ELSEIF RESULT == 304
	IF TALENT:ARG:Ｖ結界 > 0
	ELSEIF TALENT:ARG:避妊結界
		TALENT:ARG:避妊結界 = 0
		JUEL:ARG:修練P += 50
	ELSEIF JUEL:ARG:修練P >= 50 && (TALENT:ARG:Ｃ結界 + TALENT:ARG:Ｖ結界 + TALENT:ARG:Ａ結界 + TALENT:ARG:Ｂ結界 + TALENT:ARG:避妊結界) < (感覚数 - 1 - (CHARATALENT_F(ARG,0,"オトコ") > 0 || CHARATALENT_F(ARG,1,"オトコ") > 0))
		TALENT:ARG:避妊結界 = 1
		JUEL:ARG:修練P -= 50
	ENDIF
ELSEIF OBJ_VAR >= 0 && OBJ_VAR <= 6 && CNG_VAR >= 0 && CNG_VAR <= 3

	IF CNG_VAR == 0
		CNG_VAR = -5
	ELSEIF CNG_VAR == 1
		CNG_VAR = -1
	ELSEIF CNG_VAR == 2
		CNG_VAR = 1
	ELSEIF CNG_VAR == 3
		CNG_VAR = 5
	ENDIF

	;上限設定
	SIF CNG_VAR > JUEL:ARG:修練P / 10
		CNG_VAR = JUEL:ARG:修練P / 10

	SIF BNS_VAR:OBJ_VAR + CNG_VAR > 20
		CNG_VAR = 20 - BNS_VAR:OBJ_VAR

	;下限設定
	SIF BNS_VAR:OBJ_VAR + CNG_VAR < -20
		CNG_VAR = -20 - BNS_VAR:OBJ_VAR

	BNS_VAR:OBJ_VAR += CNG_VAR
	JUEL:ARG:修練P -= CNG_VAR * 10
ELSEIF RESULT == 70
	IF TALENT:ARG:近距離得意
		CNG_VAR = -20
	ELSEIF TALENT:ARG:近距離苦手
		CNG_VAR = 0
	ELSE
		CNG_VAR = -5
	ENDIF
	IF JUEL:ARG:修練P >= CNG_VAR * 10
		TALENT:ARG:近距離得意 = 0
		TALENT:ARG:近距離苦手 = 1
		JUEL:ARG:修練P -= CNG_VAR * 10
	ENDIF
ELSEIF RESULT == 71
	IF TALENT:ARG:近距離得意
		CNG_VAR = -15
	ELSEIF TALENT:ARG:近距離苦手
		CNG_VAR = 5
	ELSE
		CNG_VAR = 0
	ENDIF
	IF JUEL:ARG:修練P >= CNG_VAR * 10
		TALENT:ARG:近距離得意 = 0
		TALENT:ARG:近距離苦手 = 0
		JUEL:ARG:修練P -= CNG_VAR * 10
	ENDIF
ELSEIF RESULT == 72
	IF TALENT:ARG:近距離得意
		CNG_VAR = 0
	ELSEIF TALENT:ARG:近距離苦手
		CNG_VAR = 20
	ELSE
		CNG_VAR = 15
	ENDIF
	IF JUEL:ARG:修練P >= CNG_VAR * 10
		TALENT:ARG:近距離得意 = 1
		TALENT:ARG:近距離苦手 = 0
		JUEL:ARG:修練P -= CNG_VAR * 10
	ENDIF
ELSEIF RESULT == 80
	IF TALENT:ARG:中距離得意
		CNG_VAR = -20
	ELSEIF TALENT:ARG:中距離苦手
		CNG_VAR = 0
	ELSE
		CNG_VAR = -5
	ENDIF
	IF JUEL:ARG:修練P >= CNG_VAR * 10
		TALENT:ARG:中距離得意 = 0
		TALENT:ARG:中距離苦手 = 1
		JUEL:ARG:修練P -= CNG_VAR * 10
	ENDIF
ELSEIF RESULT == 81
	IF TALENT:ARG:中距離得意
		CNG_VAR = -15
	ELSEIF TALENT:ARG:中距離苦手
		CNG_VAR = 5
	ELSE
		CNG_VAR = 0
	ENDIF
	IF JUEL:ARG:修練P >= CNG_VAR * 10
		TALENT:ARG:中距離得意 = 0
		TALENT:ARG:中距離苦手 = 0
		JUEL:ARG:修練P -= CNG_VAR * 10
	ENDIF
ELSEIF RESULT == 82
	IF TALENT:ARG:中距離得意
		CNG_VAR = 0
	ELSEIF TALENT:ARG:中距離苦手
		CNG_VAR = 20
	ELSE
		CNG_VAR = 15
	ENDIF
	IF JUEL:ARG:修練P >= CNG_VAR * 10
		TALENT:ARG:中距離得意 = 1
		TALENT:ARG:中距離苦手 = 0
		JUEL:ARG:修練P -= CNG_VAR * 10
	ENDIF
ELSEIF RESULT == 90
	IF TALENT:ARG:遠距離得意
		CNG_VAR = -20
	ELSEIF TALENT:ARG:遠距離苦手
		CNG_VAR = 0
	ELSE
		CNG_VAR = -5
	ENDIF
	IF JUEL:ARG:修練P >= CNG_VAR * 10
		TALENT:ARG:遠距離得意 = 0
		TALENT:ARG:遠距離苦手 = 1
		JUEL:ARG:修練P -= CNG_VAR * 10
	ENDIF
ELSEIF RESULT == 91
	IF TALENT:ARG:遠距離得意
		CNG_VAR = -15
	ELSEIF TALENT:ARG:遠距離苦手
		CNG_VAR = 5
	ELSE
		CNG_VAR = 0
	ENDIF
	IF JUEL:ARG:修練P >= CNG_VAR * 10
		TALENT:ARG:遠距離得意 = 0
		TALENT:ARG:遠距離苦手 = 0
		JUEL:ARG:修練P -= CNG_VAR * 10
	ENDIF
ELSEIF RESULT == 92
	IF TALENT:ARG:遠距離得意
		CNG_VAR = 0
	ELSEIF TALENT:ARG:遠距離苦手
		CNG_VAR = 20
	ELSE
		CNG_VAR = 15
	ENDIF
	IF JUEL:ARG:修練P >= CNG_VAR * 10
		TALENT:ARG:遠距離得意 = 1
		TALENT:ARG:遠距離苦手 = 0
		JUEL:ARG:修練P -= CNG_VAR * 10
	ENDIF
ELSEIF RESULT == 100
	IF TALENT:ARG:空中得意
		CNG_VAR = -20
	ELSEIF TALENT:ARG:空中苦手
		CNG_VAR = 0
	ELSE
		CNG_VAR = -5
	ENDIF
	IF JUEL:ARG:修練P >= CNG_VAR * 10
		TALENT:ARG:空中得意 = 0
		TALENT:ARG:空中苦手 = 1
		JUEL:ARG:修練P -= CNG_VAR * 10
	ENDIF
ELSEIF RESULT == 101
	IF TALENT:ARG:空中得意
		CNG_VAR = -15
	ELSEIF TALENT:ARG:空中苦手
		CNG_VAR = 5
	ELSE
		CNG_VAR = 0
	ENDIF
	IF JUEL:ARG:修練P >= CNG_VAR * 10
		TALENT:ARG:空中得意 = 0
		TALENT:ARG:空中苦手 = 0
		JUEL:ARG:修練P -= CNG_VAR * 10
	ENDIF
ELSEIF RESULT == 102
	IF TALENT:ARG:空中得意
		CNG_VAR = 0
	ELSEIF TALENT:ARG:空中苦手
		CNG_VAR = 20
	ELSE
		CNG_VAR = 15
	ENDIF
	IF JUEL:ARG:修練P >= CNG_VAR * 10
		TALENT:ARG:空中得意 = 1
		TALENT:ARG:空中苦手 = 0
		JUEL:ARG:修練P -= CNG_VAR * 10
	ENDIF
ELSEIF RESULT == 110
	IF TALENT:ARG:回復早い
		CNG_VAR = -20
	ELSEIF TALENT:ARG:回復遅い
		CNG_VAR = 0
	ELSE
		CNG_VAR = -5
	ENDIF
	IF JUEL:ARG:修練P >= CNG_VAR * 10
		TALENT:ARG:回復早い = 0
		TALENT:ARG:回復遅い = 1
		JUEL:ARG:修練P -= CNG_VAR * 10
	ENDIF
ELSEIF RESULT == 111
	IF TALENT:ARG:回復早い
		CNG_VAR = -15
	ELSEIF TALENT:ARG:回復遅い
		CNG_VAR = 5
	ELSE
		CNG_VAR = 0
	ENDIF
	IF JUEL:ARG:修練P >= CNG_VAR * 10
		TALENT:ARG:回復早い = 0
		TALENT:ARG:回復遅い = 0
		JUEL:ARG:修練P -= CNG_VAR * 10
	ENDIF
ELSEIF RESULT == 112
	IF TALENT:ARG:回復早い
		CNG_VAR = 0
	ELSEIF TALENT:ARG:回復遅い
		CNG_VAR = 20
	ELSE
		CNG_VAR = 15
	ENDIF
	IF JUEL:ARG:修練P >= CNG_VAR * 10
		TALENT:ARG:回復早い = 1
		TALENT:ARG:回復遅い = 0
		JUEL:ARG:修練P -= CNG_VAR * 10
	ENDIF
ELSEIF RESULT == 120
	IF TALENT:ARG:噂好きの友人
		CNG_VAR = -5
	ELSE
		CNG_VAR = 0
	ENDIF
	IF JUEL:ARG:修練P >= CNG_VAR * 10
		TALENT:ARG:噂好きの友人 = 0
		JUEL:ARG:修練P -= CNG_VAR * 10
	ENDIF
ELSEIF RESULT == 121
	IF TALENT:ARG:噂好きの友人
		CNG_VAR = 0
	ELSE
		CNG_VAR = 5
	ENDIF
	IF JUEL:ARG:修練P >= CNG_VAR * 10
		TALENT:ARG:噂好きの友人 = 1
		JUEL:ARG:修練P -= CNG_VAR * 10
	ENDIF
ELSEIF RESULT == 130
	IF TALENT:ARG:警察関係者 == 2
		CNG_VAR = -20
	ELSEIF TALENT:ARG:警察関係者 == 1
		CNG_VAR = -10
	ELSE
		CNG_VAR = 0
	ENDIF
	IF JUEL:ARG:修練P >= CNG_VAR * 10
		TALENT:ARG:警察関係者 = 0
		JUEL:ARG:修練P -= CNG_VAR * 10
	ENDIF
ELSEIF RESULT == 131
	IF TALENT:ARG:警察関係者 == 2
		CNG_VAR = -10
	ELSEIF TALENT:ARG:警察関係者 == 1
		CNG_VAR = 0
	ELSE
		CNG_VAR = 10
	ENDIF
	IF JUEL:ARG:修練P >= CNG_VAR * 10
		TALENT:ARG:警察関係者 = 1
		JUEL:ARG:修練P -= CNG_VAR * 10
	ENDIF
ELSEIF RESULT == 132
	IF TALENT:ARG:警察関係者 == 2
		CNG_VAR = 0
	ELSEIF TALENT:ARG:警察関係者 == 1
		CNG_VAR = 10
	ELSE
		CNG_VAR = 20
	ENDIF
	IF JUEL:ARG:修練P >= CNG_VAR * 10
		TALENT:ARG:警察関係者 = 2
		JUEL:ARG:修練P -= CNG_VAR * 10
	ENDIF
ELSEIF RESULT == 140
	IF TALENT:ARG:情報屋
		CNG_VAR = -15
	ELSE
		CNG_VAR = 0
	ENDIF
	IF JUEL:ARG:修練P >= CNG_VAR * 10
		TALENT:ARG:情報屋 = 0
		JUEL:ARG:修練P -= CNG_VAR * 10
	ENDIF
ELSEIF RESULT == 141
	IF TALENT:ARG:情報屋
		CNG_VAR = 0
	ELSE
		CNG_VAR = 15
	ENDIF
	IF JUEL:ARG:修練P >= CNG_VAR * 10
		TALENT:ARG:情報屋 = 1
		JUEL:ARG:修練P -= CNG_VAR * 10
	ENDIF
ELSEIF RESULT == 150
	IF TALENT:ARG:裕福な実家
		CNG_VAR = -10
	ELSE
		CNG_VAR = 0
	ENDIF
	IF JUEL:ARG:修練P >= CNG_VAR * 10
		TALENT:ARG:裕福な実家 = 0
		JUEL:ARG:修練P -= CNG_VAR * 10
	ENDIF
ELSEIF RESULT == 151
	IF TALENT:ARG:裕福な実家
		CNG_VAR = 0
	ELSE
		CNG_VAR = 10
	ENDIF
	IF JUEL:ARG:修練P >= CNG_VAR * 10
		TALENT:ARG:裕福な実家 = 1
		JUEL:ARG:修練P -= CNG_VAR * 10
	ENDIF
ELSEIF RESULT == 999
	FOR LOCAL,0,JUEL:ARG:修練P / 10
		BNS_VAR:(RAND:7) += 1
		JUEL:ARG:修練P -= 10
	NEXT
ELSE
	GOTO INPUT_LOOP
ENDIF
GOTO INPUT_LOOP


